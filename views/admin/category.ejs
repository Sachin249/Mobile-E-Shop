<%- include('../includes/start.ejs') %>

<%- include('../includes/navigation.ejs') %>

<div class="container w-50 my-4">
    <% if(mode==='update') { %>
        <div id="add-category">
            <h2 class="text-success">Update Category</h2>
            <form action="/admin/admin-product-category-update" method="POST" >
                <div class="mb-3 my-2">
                <input type="text" class="form-control" value="<%= pcategory.title %>"  placeholder="Category Name" name="title" required>
                </div>
                <div class="d-flex justify-content-between my-3">
                    <input type="hidden" name="editId" value="<%= pcategory._id %>">
                    <button type="submit" class="btn btn-success ">Update</button>
                    <a href="/" class="btn btn-dark ">Back</a>
                </div>
            </form>
        </div>
        
    <% }else{ %>
        <div id="add-category">
            <h2 class="text-success">Add Category</h2>
            <form action="/admin/admin-product-category" method="POST" >
                <div class="mb-3 my-2">
                <input type="text" class="form-control"  placeholder="Category Name" name="title" required>
                </div>
                <div class="d-flex justify-content-between my-3">
                    <button type="submit" class="btn btn-success ">Add</button>
                    <a href="/" class="btn btn-dark ">Back</a>
                </div> 
            </form>
        </div>
        <div>
            <h3 class="text-success">Product Categories</h3>
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Title</th>
                    <th scope="col">CreatedAt</th>
                    <th scope="col">UpdatedAt</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                   <% pcategory.map(category=>{  %>
                    <tr>
                        <td><%= category._id %></td>
                        <td><%= category.title %></td>
                        <td><%= category.createdAt %></td>
                        <td><%= category.updatedAt %></td>
                        <td>
                            <div class="d-inline-flex">
                                <a class="btn btn-danger btn-sm" href="/admin/admin-product-category-delete/<%= category._id %>">Delete</a>
                                <a class="btn btn-success mx-1" href="/admin/admin-product-category-update/<%= category._id %>">Edit</a>
                            </div>
                            
                        </td>
                      </tr>
                    <% }) %>
                  
                </tbody>
              </table>
        </div>
    <% } %>
    
    
    
    

</div>
 
<%- include('../includes/end.ejs') %>